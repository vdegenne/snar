{"version":3,"file":"snar.js","sourceRoot":"","sources":["src/snar.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,GAAG,EAAE,UAAU,EAAE,OAAO,EAAC,MAAM,KAAK,CAAC;AAC7C,OAAO,EAAC,KAAK,EAAC,MAAM,mBAAmB,CAAC;AAExC,6DAA6D;AAE7D,SAAS,iBAAiB;IACxB,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;IACtD,OAAO,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;AAC7B,CAAC;AAED,MAAM,UAAU,SAAS,CAAC,KAA+B;IACvD,MAAM,QAAQ,GAAG,KAAM,SAAQ,KAAK;QAClC;YACE,KAAK,CAAC,GAAG,SAAS,CAAC,CAAC;YACpB,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAC9B,CAAC;KACF,CAAC;IACF,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,QAAQ,iBAAiB,EAAE,EAAE,EAAE,QAAQ,CAAC,CAAC;IACtE,OAAO,QAAe,CAAC;AACzB,CAAC;AAED,MAAa,IAAK,SAAQ,UAAU;IAOlC,MAAM;QACJ,OAAO,OAAO,CAAC;IACjB,CAAC;;AARM,WAAM,GAAG,GAAG,CAAA;;;;GAIlB,CAAC;SALS,IAAI","sourcesContent":["import {css, LitElement, nothing} from 'lit';\nexport {state} from 'lit/decorators.js';\n\n// type CustomElementClass = Omit<typeof HTMLElement, 'new'>;\n\nfunction generateRandomKey() {\n  const random = Math.floor(Math.random() * Date.now());\n  return random.toString(36);\n}\n\nexport function component(clazz: CustomElementConstructor) {\n  const newClass = class extends clazz {\n    constructor() {\n      super(...arguments);\n      document.body.prepend(this);\n    }\n  };\n  window.customElements.define(`snar-${generateRandomKey()}`, newClass);\n  return newClass as any;\n}\n\nexport class Snar extends LitElement {\n  static styles = css`\n    :host {\n      display: none;\n    }\n  `;\n\n  render() {\n    return nothing;\n  }\n\n  // protected static finalize(): boolean {\n  //   // if (!super.finalize()) {\n  //   //   return;\n  //   // }\n  //   if (this.name !== 'Snar') {\n  //     console.log(this);\n  //     try {\n  //       window.customElements.define(`snar-${generateRandomKey()}`, this);\n  //     } catch (err) {}\n  //   }\n  //   return true;\n  // }\n}\n"]}